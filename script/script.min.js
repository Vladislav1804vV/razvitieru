function callInit(){const e=document.querySelectorAll("[data-call]"),t=document.querySelector("section.indi"),n=document.querySelector("body"),c=document.querySelector(".popup"),o=document.querySelector(".popup__close"),r=()=>{c.classList.remove("popup-hidden"),n.classList.add("body-lock")};e.forEach((e=>{e.addEventListener("click",(()=>{if(window.innerWidth<=1180)return r();t.scrollIntoView({behavior:"smooth"})}))})),o.addEventListener("click",(()=>{c.classList.add("popup-hidden"),n.classList.remove("body-lock")})),setTimeout((()=>{r(),setTimeout(r,12e4)}),15e3)}function dropListInit(){document.querySelectorAll(".objects__item").forEach((e=>{e.children[0].addEventListener("click",(()=>{const t=e.children[1],n=t.scrollHeight;t.classList.toggle("objects-open"),t.style.maxHeight=t.classList.contains("objects-open")?7*t.children.length+n+"px":null,e.children[0].classList.toggle("objects-open")}))}));document.querySelectorAll(".faq__button").forEach((e=>{e.addEventListener("click",(()=>{e.parentNode.classList.toggle("faq-open");const t=e.parentNode.children[1];t.style.maxHeight=e.parentNode.classList.contains("faq-open")?t.scrollHeight+"px":null}))}))}function formInit(){const e=document.querySelectorAll(".indi-next"),t=document.querySelectorAll(".indi-back"),n=document.querySelector(".indi__form-list"),c=document.querySelector(".indi__right"),o=document.querySelectorAll("[data-step]");let r=1;const l=()=>c.clientWidth,a=()=>{o.forEach((e=>{parseInt(e.getAttribute("data-step"))===r?e.classList.add("current-step"):e.classList.remove("current-step")})),n.style.left=-(r-1)*l()+"px"};e.forEach((e=>{e.addEventListener("click",(()=>{r++,a()}))})),t.forEach((e=>{e.addEventListener("click",(()=>{r--,a()}))}));const u=document.querySelector(".indi-submit"),i=document.querySelector(".indi__right"),d=document.querySelector('[name="months"]'),s=document.querySelector('[name="sum"]'),m=document.querySelector("#form-phone"),y=document.querySelector('[name="place"]'),p=document.querySelector('[name="name"]'),h=document.querySelector('[name="type"]'),v=document.querySelector('[name="object"]'),S=(e,t)=>!!e.value||(r=t,a(),e.style.borderColor="#474747",e.focus(),setTimeout((()=>{e.style.borderColor="#b68300"}),5e3),n.style.left=-(t-1)*l()+"px",!1),q=()=>!!(S(s,1)&&S(d,1)&&S(h,1)&&S(v,2)&&S(y,2)&&S(p,3)&&S(m,3));u.addEventListener("click",(()=>{if(!q())return!1})),i.addEventListener("keydown",(e=>{if(13==e.keyCode&&(e.preventDefault(),!q()))return!1}))}function rangeSlidersInit(){const e=document.querySelectorAll("[data-range-block]"),t=document.querySelectorAll("[data-tab-content]"),n=document.querySelector("#current-sum-value"),c=document.querySelector("#calc-sum"),o=document.querySelector("#calc-sum-line"),r=document.querySelector("#current-sum-value-monthly"),l=document.querySelector("#calc-sum-monthly"),a=document.querySelector("#calc-sum-line-monthly"),u=document.querySelector("#calc-month"),i=document.querySelector("#calc-month-line"),d=document.querySelector("#current-month-value"),s=document.querySelector("#result-sum"),m=document.querySelector("#calc-every-month"),y=document.querySelector(".calc__button[data-call]"),p=document.querySelector('[name="sum"]'),h=document.querySelector('[name="months"]');y.addEventListener("click",(()=>{h.value=u.value,p.value=s.textContent}));let v="credit";t.forEach((n=>{n.addEventListener("click",(()=>{v=n.getAttribute("data-tab-content"),t.forEach((e=>{e.getAttribute("data-tab-content")===v?e.classList.add("calc-current"):e.classList.remove("calc-current")})),e.forEach((e=>{e.getAttribute("data-range-block")===v?e.classList.remove("calc-d-none"):e.classList.add("calc-d-none")})),g()}))}));const S=(e,t,n)=>{const c=Math.round(e.value/n*100);t.style.width=c+"%"},q=(e,t)=>{e.textContent=(t/1).toLocaleString("ru-RU")},L=e=>+e.toFixed(),g=()=>{if("credit"===v){s.textContent=f(c.value);const e=.18*c.value,t=L(e/u.value);m.textContent=f(t)}else{m.textContent=f(l.value);const e=L(l.value*u.value/.18);s.textContent=f(e)}},f=e=>(e/1).toLocaleString("ru-RU"),E=()=>{S(c,o,4e7),q(n,c.value),q(s,c.value),g()},b=()=>{S(l,a,1e6),q(r,l.value),q(m,l.value),g()},w=()=>{S(u,i,120),q(d,u.value),g()};c.addEventListener("input",E),c.addEventListener("change",E),l.addEventListener("input",b),l.addEventListener("change",b),u.addEventListener("input",w),u.addEventListener("change",w),g(),S(l,a,1e6),S(u,i,120),S(c,o,4e7)}function swiperInit(){new Swiper(".swiper",{navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},autoHeight:!0,loop:!0,breakpoints:{0:{slidesPerView:1,spaceBetween:48},1180:{slidesPerView:3,spaceBetween:48},1480:{slidesPerView:3,spaceBetween:64}}})}document.addEventListener("DOMContentLoaded",(()=>{dropListInit(),formInit(),rangeSlidersInit(),swiperInit(),callInit();document.querySelector(".footer__rights").textContent=`Â© ${(new Date).getFullYear()} Appmax All Rights Reserved.`;const e=document.querySelector(".s-call__back.gold");setInterval((()=>{e.animate([{opacity:.5,width:"100%",height:"100%"},{opacity:0,width:"150%",height:"150%"}],{duration:1e3})}),2e3)}));