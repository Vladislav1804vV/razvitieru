function callInit(){const e=document.querySelectorAll("[data-call]"),t=document.querySelector("section.indi"),n=document.querySelector("body"),o=document.querySelector(".popup"),c=document.querySelector(".popup__close"),r=()=>{o.classList.remove("popup-hidden"),n.classList.add("body-lock")},l=()=>{o.classList.add("popup-hidden"),n.classList.remove("body-lock")};e.forEach(e=>{e.addEventListener("click",()=>{if(window.innerWidth<=1180)return r();t.scrollIntoView({behavior:"smooth"})})}),c.addEventListener("click",l),setTimeout(()=>{r(),setTimeout(r,12e4)},15e3)}function dropListInit(){const e=document.querySelectorAll(".objects__item");e.forEach(e=>{e.children[0].addEventListener("click",()=>{const t=e.children[1],n=t.scrollHeight;t.classList.toggle("objects-open"),t.style.maxHeight=t.classList.contains("objects-open")?7*t.children.length+n+"px":null,e.children[0].classList.toggle("objects-open")})});const t=document.querySelectorAll(".faq__button");t.forEach(e=>{e.addEventListener("click",()=>{e.parentNode.classList.toggle("faq-open");const t=e.parentNode.children[1];t.style.maxHeight=e.parentNode.classList.contains("faq-open")?t.scrollHeight+"px":null})})}function formInit(){const e=document.querySelectorAll(".indi-next"),t=document.querySelectorAll(".indi-back"),n=document.querySelector(".indi__form-list"),o=document.querySelector(".indi__right"),c=document.querySelectorAll("[data-step]");let r=1;const l=()=>o.clientWidth,a=()=>{c.forEach(e=>{const t=parseInt(e.getAttribute("data-step"));t===r?e.classList.add("current-step"):e.classList.remove("current-step")}),n.style.left=-(r-1)*l()+"px"};e.forEach(e=>{e.addEventListener("click",()=>{r++,a()})}),t.forEach(e=>{e.addEventListener("click",()=>{r--,a()})});const u=document.querySelector(".indi-submit"),d=document.querySelector(".indi__right"),i=document.querySelector('[name="months"]'),s=document.querySelector('[name="sum"]'),m=document.querySelector("#form-phone"),p=document.querySelector('[name="place"]'),y=document.querySelector('[name="name"]'),h=document.querySelector('[name="type"]'),S=document.querySelector('[name="object"]');Inputmask({mask:"999",placeholder:""}).mask(i),Inputmask({mask:"9999999999",placeholder:""}).mask(s);const q=(e,t)=>!!e.value||(r=t,a(),e.style.borderColor="#474747",e.focus(),setTimeout(()=>{e.style.borderColor="#b68300"},5e3),n.style.left=-(t-1)*l()+"px",!1),v=()=>!!(q(s,1)&&q(i,1)&&q(h,1)&&q(S,2)&&q(p,2)&&q(y,3)&&q(m,3));u.addEventListener("click",()=>{if(!v())return!1}),d.addEventListener("keydown",e=>{if(13==e.keyCode&&(e.preventDefault(),!v()))return!1});const L={name:[{rule:"required"}],phone:[{rule:"required"},{rule:"customRegexp",value:/\+7 \(\d{3}\) \d{3}-\d{2}-\d{2}/}],sum:[{rule:"required"},{rule:"integer"},{validator:e=>e>=1}],months:[{rule:"required"},{rule:"integer"},{validator:e=>e>=1}],place:[{rule:"required"}]},f=document.querySelector("form.use-m__form");f&&new JustValidate(f,{errorLabelStyle:{display:"none"}}).addField("input[name=phone]",L.phone).onSuccess(()=>{f.submit()});const g=document.querySelector("form.indi__right");g&&new JustValidate(g,{errorLabelStyle:{display:"none"}}).addField("input[name=sum]",L.sum).addField("input[name=months]",L.months).addField("input[name=place]",L.place).addField("input[name=name]",L.name).addField("input[name=phone]",L.phone).onSuccess(()=>{g.submit()});const b=document.querySelector("form.footer__form");b&&new JustValidate(b,{errorLabelStyle:{display:"none"}}).addField("input[name=name]",L.name).addField("input[name=phone]",L.phone).onSuccess(()=>{b.submit()});const E=document.querySelector("form.popup__form");E&&new JustValidate(E,{errorLabelStyle:{display:"none"}}).addField("input[name=phone]",L.phone).onSuccess(()=>{E.submit()})}function phoneInit(){const e=document.querySelectorAll("input[name=phone]");e.forEach(e=>{Inputmask({mask:"+7 (999) 999-99-99"}).mask(e)})}function rangeSlidersInit(){const e=document.querySelectorAll("[data-range-block]"),t=document.querySelectorAll("[data-tab-content]"),n=document.querySelector("#current-sum-value"),o=document.querySelector("#calc-sum"),c=document.querySelector("#calc-sum-line"),r=document.querySelector("#current-sum-value-monthly"),l=document.querySelector("#calc-sum-monthly"),a=document.querySelector("#calc-sum-line-monthly"),u=document.querySelector("#calc-month"),d=document.querySelector("#calc-month-line"),i=document.querySelector("#current-month-value"),s=document.querySelector("#result-sum"),m=document.querySelector("#calc-every-month"),p=document.querySelector(".calc__button[data-call]"),y=document.querySelector('[name="sum"]'),h=document.querySelector('[name="months"]');p.addEventListener("click",()=>{h.value=u.value,y.value=s.textContent});let S="credit";t.forEach(n=>{n.addEventListener("click",()=>{S=n.getAttribute("data-tab-content"),t.forEach(e=>{e.getAttribute("data-tab-content")===S?e.classList.add("calc-current"):e.classList.remove("calc-current")}),e.forEach(e=>{e.getAttribute("data-range-block")===S?e.classList.remove("calc-d-none"):e.classList.add("calc-d-none")}),f()})});const q=(e,t,n)=>{const o=Math.round(e.value/n*100);t.style.width=o+"%"},v=(e,t)=>{e.textContent=(t/1).toLocaleString("ru-RU")},L=e=>+e.toFixed(),f=()=>{if("credit"===S){s.textContent=g(o.value);const e=.18*o.value,t=L(e/u.value);m.textContent=g(t)}else{m.textContent=g(l.value);const e=L(l.value*u.value/.18);s.textContent=g(e)}},g=e=>(e/1).toLocaleString("ru-RU"),b=()=>{q(o,c,4e7),v(n,o.value),v(s,o.value),f()},E=()=>{q(l,a,1e6),v(r,l.value),v(m,l.value),f()},k=()=>{q(u,d,120),v(i,u.value),f()};o.addEventListener("input",b),o.addEventListener("change",b),l.addEventListener("input",E),l.addEventListener("change",E),u.addEventListener("input",k),u.addEventListener("change",k),f(),q(l,a,1e6),q(u,d,120),q(o,c,4e7)}function swiperInit(){new Swiper(".swiper",{navigation:{nextEl:".swiper-next",prevEl:".swiper-prev"},autoHeight:!0,loop:!0,breakpoints:{0:{slidesPerView:1,spaceBetween:48},1180:{slidesPerView:3,spaceBetween:48},1480:{slidesPerView:3,spaceBetween:64}}})}const JustValidate=window.JustValidate;document.addEventListener("DOMContentLoaded",()=>{dropListInit(),phoneInit(),formInit(),rangeSlidersInit(),swiperInit(),callInit();const e=document.querySelector(".footer__rights");e.textContent=`Â© ${(new Date).getFullYear()} Appmax All Rights Reserved.`;const t=document.querySelector(".s-call__back.gold");setInterval(()=>{t.animate([{opacity:.5,width:"100%",height:"100%"},{opacity:0,width:"150%",height:"150%"}],{duration:1e3})},2e3)});